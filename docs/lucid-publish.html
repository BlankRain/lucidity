
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link rel="shortcut icon" href="favicon.ico">
  <title>lucid.publish - generate documentation from code</title>
  <script src="js/highlight.min.js"></script>
  <script src="js/gumshoe.min.js"></script>
  <script src="js/smooth-scroll.min.js"></script>
  
  <!-- CSS -->
  <link rel="stylesheet" href="css/poole.css">
  <link rel="stylesheet" href="css/syntax.css">
  <link rel="stylesheet" href="css/lanyon.css">
  <link rel="stylesheet" href="css/stark.css">
  <link rel="stylesheet" href="css/stark-api.css">
  <link rel="stylesheet" href="css/stark-highlight.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
  
</head>

  <body class="theme-base-0b">
    <span id="page-top"></span>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <nav class="sidebar-nav">
    <span>&nbsp;</span>
    <a class="sidebar-nav-item header" href="index.html"><img src="img/logo-white.png" style="width:100%; padding-left:1em"/></a>
    <span>&nbsp;</span>
    <a class="sidebar-nav-item" href="lucid-aether.html">aether</a><a class="sidebar-nav-item" href="lucid-core.html">core</a><a class="sidebar-nav-item" href="lucid-distribute.html">distribute</a><a class="sidebar-nav-item" href="lucid-mind.html">mind</a><a class="sidebar-nav-item" href="lucid-package.html">package</a><a class="sidebar-nav-item active" href="lucid-publish.html">publish</a><a class="sidebar-nav-item" href="lucid-query.html">query</a><a class="sidebar-nav-item" href="lucid-unit.html">unit</a>
    <span class="sidebar-nav-item">&nbsp;</span>
    <span class="sidebar-nav-item">&nbsp;</span>
  </nav>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <span>lucid.publish</span>
            <small>generate documentation from code</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="page">
          <div class="heading">
            <div>
              <h5>Author: Chris Zheng&nbsp;&nbsp;<a href="mailto:z@caudate.me">(z@caudate.me)</a></h5>
              <h5>Date: 16 November 2016</h5>
              <h5>Repository: <a href="https://www.github.com/zcaudate/lucidity">https://www.github.com/zcaudate/lucidity</a></h5>
              <h5>Version: 1.2.8</h5></div></div>
          <hr/>
          <div class="outline">
            <div class="toc">
              <nav data-gumshoe-header>
                <ul data-gumshoe>
                  <a data-scroll class="top" href="#page-top">TOP</a>
                  <li><a class="chapter" data-scroll="" href="#introduction"><h4>1 &nbsp; Introduction</h4></a><a class="section" data-scroll="" href="#installation"><h5><i>1.1 &nbsp; Installation</i></h5></a><a class="section" data-scroll="" href="#motivation"><h5><i>1.2 &nbsp; Motivation</i></h5></a><a class="section" data-scroll="" href="#walkthrough"><h5><i>1.3 &nbsp; Walkthrough</i></h5></a></li><li><a class="chapter" data-scroll="" href="#api"><h4>2 &nbsp; API</h4></a><a class="section" data-scroll="" href="#entry__lucid_publish__copy_assets"><h5><i>copy-assets</i></h5></a><a class="section" data-scroll="" href="#entry__lucid_publish__load_settings"><h5><i>load-settings</i></h5></a><a class="section" data-scroll="" href="#entry__lucid_publish__publish"><h5><i>publish</i></h5></a><a class="section" data-scroll="" href="#entry__lucid_publish__publish_all"><h5><i>publish-all</i></h5></a></li><li><a class="chapter" data-scroll="" href="#syntax"><h4>3 &nbsp; Syntax</h4></a><a class="section" data-scroll="" href="#notation"><h5><i>3.1 &nbsp; Notation</i></h5></a><a class="section" data-scroll="" href="#attributes"><h5><i>3.2 &nbsp; Attributes</i></h5></a></li><li><a class="chapter" data-scroll="" href="#content"><h4>4 &nbsp; Content</h4></a><a class="section" data-scroll="" href="#paragraph"><h5><i>4.1 &nbsp; :paragraph</i></h5></a><a class="section" data-scroll="" href="#sections"><h5><i>4.2 &nbsp; sections</i></h5></a><a class="section" data-scroll="" href="#image"><h5><i>4.3 &nbsp; :image</i></h5></a><a class="section" data-scroll="" href="#file"><h5><i>4.4 &nbsp; :file</i></h5></a></li><li><a class="chapter" data-scroll="" href="#code"><h4>5 &nbsp; Code</h4></a><a class="section" data-scroll="" href="#normal-s-expressions"><h5><i>5.1 &nbsp; normal s-expressions</i></h5></a><a class="section" data-scroll="" href="#fact--facts"><h5><i>5.2 &nbsp; fact/facts</i></h5></a><a class="section" data-scroll="" href="#comment"><h5><i>5.3 &nbsp; comment</i></h5></a><a class="section" data-scroll="" href="#reference"><h5><i>5.4 &nbsp; :reference</i></h5></a><a class="section" data-scroll="" href="#api-0"><h5><i>5.5 &nbsp; :api</i></h5></a><a class="section" data-scroll="" href="#other-languages"><h5><i>5.6 &nbsp; other languages</i></h5></a></li><li><a class="chapter" data-scroll="" href="#project-level"><h4>6 &nbsp; Project Level</h4></a><a class="section" data-scroll="" href="#setup"><h5><i>6.1 &nbsp; Setup</i></h5></a><a class="section" data-scroll="" href="#templates-and-themes"><h5><i>6.2 &nbsp; Templates and Themes</i></h5></a></li>
                </ul>
              </nav>
            </div>
          </div>

          <div class="toc">
              <nav>
                <ul>
                  <li><a class="chapter" data-scroll="" href="#introduction"><h4>1 &nbsp; Introduction</h4></a><a class="section" data-scroll="" href="#installation"><h5><i>1.1 &nbsp; Installation</i></h5></a><a class="section" data-scroll="" href="#motivation"><h5><i>1.2 &nbsp; Motivation</i></h5></a><a class="section" data-scroll="" href="#walkthrough"><h5><i>1.3 &nbsp; Walkthrough</i></h5></a></li><li><a class="chapter" data-scroll="" href="#api"><h4>2 &nbsp; API</h4></a><a class="section" data-scroll="" href="#entry__lucid_publish__copy_assets"><h5><i>copy-assets</i></h5></a><a class="section" data-scroll="" href="#entry__lucid_publish__load_settings"><h5><i>load-settings</i></h5></a><a class="section" data-scroll="" href="#entry__lucid_publish__publish"><h5><i>publish</i></h5></a><a class="section" data-scroll="" href="#entry__lucid_publish__publish_all"><h5><i>publish-all</i></h5></a></li><li><a class="chapter" data-scroll="" href="#syntax"><h4>3 &nbsp; Syntax</h4></a><a class="section" data-scroll="" href="#notation"><h5><i>3.1 &nbsp; Notation</i></h5></a><a class="section" data-scroll="" href="#attributes"><h5><i>3.2 &nbsp; Attributes</i></h5></a></li><li><a class="chapter" data-scroll="" href="#content"><h4>4 &nbsp; Content</h4></a><a class="section" data-scroll="" href="#paragraph"><h5><i>4.1 &nbsp; :paragraph</i></h5></a><a class="section" data-scroll="" href="#sections"><h5><i>4.2 &nbsp; sections</i></h5></a><a class="section" data-scroll="" href="#image"><h5><i>4.3 &nbsp; :image</i></h5></a><a class="section" data-scroll="" href="#file"><h5><i>4.4 &nbsp; :file</i></h5></a></li><li><a class="chapter" data-scroll="" href="#code"><h4>5 &nbsp; Code</h4></a><a class="section" data-scroll="" href="#normal-s-expressions"><h5><i>5.1 &nbsp; normal s-expressions</i></h5></a><a class="section" data-scroll="" href="#fact--facts"><h5><i>5.2 &nbsp; fact/facts</i></h5></a><a class="section" data-scroll="" href="#comment"><h5><i>5.3 &nbsp; comment</i></h5></a><a class="section" data-scroll="" href="#reference"><h5><i>5.4 &nbsp; :reference</i></h5></a><a class="section" data-scroll="" href="#api-0"><h5><i>5.5 &nbsp; :api</i></h5></a><a class="section" data-scroll="" href="#other-languages"><h5><i>5.6 &nbsp; other languages</i></h5></a></li><li><a class="chapter" data-scroll="" href="#project-level"><h4>6 &nbsp; Project Level</h4></a><a class="section" data-scroll="" href="#setup"><h5><i>6.1 &nbsp; Setup</i></h5></a><a class="section" data-scroll="" href="#templates-and-themes"><h5><i>6.2 &nbsp; Templates and Themes</i></h5></a></li>
                </ul>
              </nav>
          </div>
          <div><span id="introduction"></span><h2><b>1 &nbsp;&nbsp; Introduction</b></h2></div><div><p><code>lucid.publish</code> facilitates the creation of 'documentation that we can run', the tool allows for a design-orientated workflow for the programming process, blurring the boundaries between design, development, testing and documentation. This library was originally developed as <a href='https://www.github.com/zcaudate/lein-midje-doc'>lein-midje-doc</a>, and then <a href='https://www.github.com/helpshift/hydrox'>hydrox</a>.</p></div><div><span id="installation"></span><h3>1.1 &nbsp;&nbsp; Installation</h3></div><div><p>Add to <code>project.clj</code> dependencies:</p></div><div class="code"><pre><code class="clojure">[im.chit/lucid.publish &quot;1.2.8&quot;]</code></pre></div><div><p>All functionality is in the <code>lucid.publish</code> namespace:</p></div><div class="code"><pre><code class="clojure">(use 'lucid.publish)</code></pre></div><div><span id="motivation"></span><h3>1.2 &nbsp;&nbsp; Motivation</h3></div><div><p>Documentation is the programmers' means of communicating how to use a library. There are various tools for documentation like <code>latex</code>, <code>wiki</code> and <code>markdown</code>, however <code>lucid.publish</code> should be thought of as an in-built html renderer for clojure code. It's features are:</p><ol><li>To generate <code>.html</code> documentation from a <code>.clj</code> test file.</li><li>Render code and test cases as examples</li><li>Latex-like numbering and linking facilities</li><li>To promote code as communication</li></ol></div><div><span id="walkthrough"></span><h3>1.3 &nbsp;&nbsp; Walkthrough</h3></div><div><p>Any clojure file can be made into a <code>.html</code> page. Let's give it a go. Create a file in <code>test/example/sample&#95;document.clj</code> and copy and paste the following:</p></div><div class="code"><pre><code class="clojure">^{:site &quot;hello&quot;
  :title &quot;world&quot;
  :subtitle &quot;this is a sample document&quot;}
(ns example.sample-document
  (:use hara.test)
  (:require [lucid.publish :as publish]))
  
[[:chapter {:tag &quot;hello&quot; :title &quot;Introduction&quot;}]]
  
&quot;This is an introduction to writing with **Lucidity**&quot;

[[:section {:title &quot;Defining a function&quot;}]]

&quot;We define function `add-5` below:&quot;

[[{:numbered false}]]
(defn add-5 [x]
  (+ x 5))

[[:section {:title &quot;Testing a function&quot;}]]

&quot;`add-5` outputs the following results:&quot;

[[{:tag &quot;add-5-1&quot; :title &quot;1 add 5 = 6&quot;}]]
(fact (add-5 1) =&gt; 6)

[[{:tag &quot;add-5-10&quot; :title &quot;10 add 5 = 15&quot;}]]
(fact (add-5 10) =&gt; 15)

[[:chapter {:tag &quot;two&quot; :title &quot;Another Chapter&quot;}]]

[[{:title &quot;map&quot;}]]
(comment
  (map inc (range 10))
  =&gt; (1 2 3 4 5 6 7 8 9 10)) 

[[{:hidden true}]]
(comment
  (publish/publish))</code></pre></div><div><p>Now either <code>C-x</code>-<code>C-e</code> on the <code>&#40;publish/publish&#41;</code> line or write in the repl:</p></div><div class="code"><pre><code class="clojure">(require '[lucid.publish :as publish])

(publish/publish 'example.sample-document)</code></pre></div><div><p>The output will look something like <a href='example.sample-document.html' target='_blank'>this</a></p></div><div><span id="api"></span><h2><b>2 &nbsp;&nbsp; API</b></h2></div><div class="api"><span id="entry__lucid_publish__"></span><hr /><div><ul><li><a data-scroll="" href="#entry__lucid_publish__copy_assets">copy-assets</a></li><li><a data-scroll="" href="#entry__lucid_publish__load_settings">load-settings</a></li><li><a data-scroll="" href="#entry__lucid_publish__publish">publish</a></li><li><a data-scroll="" href="#entry__lucid_publish__publish_all">publish-all</a></li></ul><hr style="margin-bottom: 0" /><div><div class="entry"><span id="entry__lucid_publish__copy_assets"></span><div class="entry-description"><h4><b>copy-assets&nbsp<a data-scroll="" href="#entry__lucid_publish__">^</a></b></h4><p><i>copies all theme assets into the output directory</i></p></div><div class="entry-option"><h6><a href="https://www.github.com/zcaudate/lucidity/blob/master/src/lucid/publish.clj#L24-L44" target="_blank">v&nbsp;1.2</a></h6><div><input class="source-toggle" id="entry__pre_lucid_publish__copy_assets" type="checkbox" /><label class="source-toggle" for="entry__pre_lucid_publish__copy_assets"></label><pre class="source"><code class="clojure">(defn copy-assets
  ([]
   (let [project (project/project)
         theme (-> project :publish :theme)
         settings (theme/load-settings theme)]
     (copy-assets settings project)))
  ([settings project]
   (let [template-dir (theme/template-path settings project)
         output-dir (output-path project)]
     (prn template-dir output-dir settings)
     (doseq [entry (:copy settings)]
       (prn entry)
       (let [dir   (fs/path template-dir entry)
             files (->> (fs/select dir)
                        (filter fs/file?))]
         (doseq [in files]
           (let [out (fs/path output-dir (str (fs/relativize dir in)))]
             (fs/create-directory (fs/parent out))
             (fs/copy-single in out {:options [:replace-existing :copy-attributes]}))))))))</code></pre></div></div><pre><h6><i><a href="https://www.github.com/zcaudate/lucidity/blob/master/test/lucid/publish_test.clj#L9-L12" target="_blank">link</a></i></h6><code class="clojure">;; copies theme using the `:copy` key into an output directory
(copy-assets)</code></pre></div><div class="entry"><span id="entry__lucid_publish__load_settings"></span><div class="entry-description"><h4><b>load-settings&nbsp<a data-scroll="" href="#entry__lucid_publish__">^</a></b></h4><p><i>copies all theme assets into the output directory</i></p></div><div class="entry-option"><h6><a href="https://www.github.com/zcaudate/lucidity/blob/master/src/lucid/publish.clj#L46-L58" target="_blank">v&nbsp;1.2</a></h6><div><input class="source-toggle" id="entry__pre_lucid_publish__load_settings" type="checkbox" /><label class="source-toggle" for="entry__pre_lucid_publish__load_settings"></label><pre class="source"><code class="clojure">(defn load-settings
  ([] (load-settings {} (project/project)))
  ([opts project]
   (let [theme (or (:theme opts)
                   (-> project :publish :theme))
         settings (merge (theme/load-settings theme project)
                         opts)]
     (when (:refresh settings)
       (theme/deploy settings project)
       (copy-assets settings project))
     settings)))</code></pre></div></div><pre><h6><i><a href="https://www.github.com/zcaudate/lucidity/blob/master/test/lucid/publish_test.clj#L15-L18" target="_blank">link</a></i></h6><code class="clojure">;; {:email "z@caudate.me", :date "06 October 2016" ...}
(load-settings)</code></pre></div><div class="entry"><span id="entry__lucid_publish__publish"></span><div class="entry-description"><h4><b>publish&nbsp<a data-scroll="" href="#entry__lucid_publish__">^</a></b></h4><p><i>publishes a document as an html</i></p></div><div class="entry-option"><h6><a href="https://www.github.com/zcaudate/lucidity/blob/master/src/lucid/publish.clj#L68-L100" target="_blank">v&nbsp;1.2</a></h6><div><input class="source-toggle" id="entry__pre_lucid_publish__publish" type="checkbox" /><label class="source-toggle" for="entry__pre_lucid_publish__publish"></label><pre class="source"><code class="clojure">(defn publish
  ([] (publish [*ns*] {} (project/project)))
  ([x] (cond (map? x)
             (publish [*ns*] x (project/project))

             :else
             (publish x {} (project/project))))
  ([inputs opts project]
   (let [project (add-lookup project)
         settings (load-settings opts project)
         inputs (if (vector? inputs) inputs [inputs])
         ns->symbol (fn [x] (if (instance? clojure.lang.Namespace x)
                              (.getName x)
                              x))
         inputs (map ns->symbol inputs)
         interim (prepare/prepare inputs project)
         names (-> interim :articles keys)
         out-dir (fs/path (-> project :root)
                          (or (-> project :publish :output) *output*))]
     (fs/create-directory out-dir)
     (doseq [name names]
       (spit (str (fs/path (str out-dir) (str name ".html")))
             (render/render interim name settings project))))))</code></pre></div></div><pre><h6><i><a href="https://www.github.com/zcaudate/lucidity/blob/master/test/lucid/publish_test.clj#L24-L33" target="_blank">link</a></i></h6><code class="clojure">;; publishes the `index` entry in `project.clj`
(publish "index")


;; publishes `index` in a specific project with additional options
(publish "index"
         {:refresh true :theme "bolton"}
         (project/project <PATH>))</code></pre></div><div class="entry"><span id="entry__lucid_publish__publish_all"></span><div class="entry-description"><h4><b>publish-all&nbsp<a data-scroll="" href="#entry__lucid_publish__">^</a></b></h4><p><i>publishes all documents as html</i></p></div><div class="entry-option"><h6><a href="https://www.github.com/zcaudate/lucidity/blob/master/src/lucid/publish.clj#L102-L120" target="_blank">v&nbsp;1.2</a></h6><div><input class="source-toggle" id="entry__pre_lucid_publish__publish_all" type="checkbox" /><label class="source-toggle" for="entry__pre_lucid_publish__publish_all"></label><pre class="source"><code class="clojure">(defn publish-all
  ([] (publish-all {} (project/project)))
  ([opts project]
   (let [project  (add-lookup project)
         settings (load-settings opts project)
         template (theme/template-path settings project)
         output   (output-path project)
         files (-> project :publish :files keys vec)]
     (publish files settings project))))</code></pre></div></div><pre><h6><i><a href="https://www.github.com/zcaudate/lucidity/blob/master/test/lucid/publish_test.clj#L36-L44" target="_blank">link</a></i></h6><code class="clojure">;; publishes all the entries in `:publish :files`
(publish-all)


;; publishes all entries in a specific project
(publish-all {:refresh true :theme "bolton"}
             (project/project <PATH>))</code></pre></div></div></div></div><div><span id="syntax"></span><h2><b>3 &nbsp;&nbsp; Syntax</b></h2></div><div><p>Elements are constructed using a tag and a map contained within double square brackets. Elements tags have been inspired from latex:</p><ul><li><a href='#content'>Content Elements</a></li><li><a href='#sections'>Sectioning Elements</a></li><li><a href='#code'>Code Elements</a></li></ul><p>Clojure strings are treated as paragraph elements whilst clojure forms are treated as code elements. <code>fact</code> and <code>comment</code> forms are also considered code elements. Elements will be described in detail in their respective sections.</p></div><div><span id="notation"></span><h3>3.1 &nbsp;&nbsp; Notation</h3></div><div class="code"><a id="elements-ex1"></a><h4><i>e.3.1  &nbsp;-&nbsp; Element Notation</i></h4><pre><code class="clojure">[[&lt;tag&gt; {&lt;key1&gt; &lt;value1&gt;, &lt;key2&gt; &lt;value2&gt;}]]</code></pre></div><div><p>for example:</p></div><div class="code"><pre><code class="clojure">[[:chapter {:title &quot;Hello World&quot; :tag &quot;hello&quot;}]]</code></pre></div><div><span id="attributes"></span><h3>3.2 &nbsp;&nbsp; Attributes</h3></div><div><p>Attribute add additional metadata to elements. They are written as a single hashmap within double square brackets. Attributes mean nothing by themselves. They change the properties of elements directly after them.</p></div><div class="code"><pre><code class="clojure">[[{:tag &quot;my-paragraph&quot;}]]
[[:paragraph {:content &quot;This is a paragraph&quot;}]]</code></pre></div><div><p>is equivalent to:</p></div><div class="code"><pre><code class="clojure">[[:paragraph {:content &quot;This is a paragraph&quot;
              :tag &quot;my-paragraph&quot;}]]</code></pre></div><div><p>Multiple attributes can be stacked to modify an element:</p></div><div class="code"><pre><code class="clojure">[[{:numbered false}]]
[[{:lang &quot;shell&quot;}]]
(comment
  &gt; lein repl)</code></pre></div><div><p>displays the following:</p></div><div class="code"><pre><code class="shell">&gt; lein repl</code></pre></div><div><span id="content"></span><h2><b>4 &nbsp;&nbsp; Content</b></h2></div><div><p>Content elements include <code>:paragraph</code>, <code>:image</code>, and <code>file</code> elements.</p></div><div><span id="paragraph"></span><h3>4.1 &nbsp;&nbsp; :paragraph</h3></div><div><p>Paragraph elements should make up the bulk of the documentation. They can be written as an element or in the usual case, as a string. The string is markdown with templating - so that chapter, section, code and image numbers can be referred to by their tags.</p></div><div class="code"><h4><i>e.4.1  &nbsp;-&nbsp; Paragraph Element</i></h4><pre><code class="clojure">[[:paragraph {:content &quot;Here is some content&quot;}]]</code></pre></div><div class="code"><h4><i>e.4.2  &nbsp;-&nbsp; Paragraph String</i></h4><pre><code class="clojure">&quot;Here is some content&quot;</code></pre></div><div class="code"><h4><i>e.4.3  &nbsp;-&nbsp; Markdown String</i></h4><pre><code class="clojure">[[:chapter {:title &quot;Chapter Heading&quot; :tag &quot;ch-heading&quot;}]]

&quot;
# Heading One
Here is some text.
Here is a tag reference to Chapter Heading - {{ch-heading}}

- Here is a bullet point
- Here is another one&quot;</code></pre></div><div><span id="sections"></span><h3>4.2 &nbsp;&nbsp; sections</h3></div><div><p>Sectioning elements are taken from latex and allow the document to be organised into logical sections. From highest to lowest order of priority, they are: <code>:chapter</code>, <code>section</code>, <code>subsection</code> and <code>:subsubsection</code>, giving four levels of organisation.</p><p>The numbering for elements are generated in sequencial order: <code>&#40;1, 2, 3 ... etc&#41;</code> and a tag can be generated from the title or specified for creating links within the document. <code>:chapter</code>, <code>section</code> and <code>subsection</code> elements are list in the table of contents using tags.</p><p>For example, I wish to write a chapter about animals and have organised content into categories shown below.</p></div><div class="code"><pre><code class="clojure">Animals
- Mammals
- Birds
- - Can Fly
- - - Eagle
- - - Hummingbird
- - Flightless
- - - Penguin</code></pre></div><div><p>It is very straight forward to turn this into sectioning elements which will then generate the sectioning numbers for different categories</p></div><div class="code"><pre><code class="clojure">[[:chapter {:title &quot;Animals&quot;}]]
[[:section {:title &quot;Mammals&quot;}]]
[[:section {:title &quot;Birds&quot;}]]
[[:subsection {:title &quot;Can Fly&quot;}]]
[[:subsubsection {:title &quot;Eagle&quot;}]]
[[:subsubsection {:title &quot;Hummingbird&quot;}]]
[[:subsection {:title &quot;Flightless&quot;}]]
[[:subsubsection {:title &quot;Penguin&quot;}]]</code></pre></div><div><p>The sections will be automatically numbered as show below:</p></div><div class="code"><pre><code class="clojure">Animals             ; 1 
- Mammals           ; 1.1
- Birds             ; 1.2
- - Can Fly         ; 1.2.1
- - - Eagle         ; 1.2.1.1
- - - Hummingbird   ; 1.2.1.2
- - Flightless      ; 1.2.2
- - - Penguin       ; 1.2.2.1</code></pre></div><div><span id="image"></span><h3>4.3 &nbsp;&nbsp; :image</h3></div><div><p>The <code>:image</code> element embeds an image as a figure within the document. It is numbered and can be tagged for easy reference. The code example below:</p></div><div class="code"><pre><code class="clojure">[[:image {:tag &quot;clojure-logo&quot; :title &quot;Clojure Logo (source clojure.org)&quot;
          :src &quot;http://clojure.org/images/clojure-logo-120b.png&quot;}]]</code></pre></div><div><p>produces the image below in Figure 1:</p></div><div class="figure"><a id="clojure-logo"></a><h4><i>fig.1  &nbsp;-&nbsp; Clojure Logo (source clojure.org)</i></h4><div class="img"><img line="{:row 228, :col 1, :end-row 229, :end-col 68}" src="http://clojure.org/images/clojure-logo-120b.png" title="Clojure Logo (source clojure.org)" /></div><p></p></div><div><span id="file"></span><h3>4.4 &nbsp;&nbsp; :file</h3></div><div><p>The <code>:file</code> element allows inclusion of other files into the document. It is useful for breaking up a document into managable chunks. A file element require that the <code>:src</code> attribute be specified. A high-level view of a document can thus be achieved, making the source more readable. This is similar to the <code>include</code> element in latex.</p></div><div class="code"><a id="file-element"></a><h4><i>e.4.4  &nbsp;-&nbsp; :file tag example</i></h4><pre><code class="clojure">[[:file {:src &quot;test/docs/first_section.clj&quot;}]]
[[:file {:src &quot;test/docs/second_section.clj&quot;}]]
[[:file {:src &quot;test/docs/third_section.clj&quot;}]]</code></pre></div><div><span id="code"></span><h2><b>5 &nbsp;&nbsp; Code</b></h2></div><div><p>Code displayed in documentation are of a few types:</p><ol><li>Code that needs to be run (normal clojure code)</li><li>Code that needs verification taking input and showing output. (midje fact)</li><li>Code that should not be run (namespace declaration examples)</li><li>Code that is part of the library's tests or source definition</li><li>Code in other languages</li></ol><p>The different types of code can be defined so that code examples render properly using a variety of methods</p></div><div><span id="normal-s-expressions"></span><h3>5.1 &nbsp;&nbsp; normal s-expressions</h3></div><div><p>Normal s-expressions are rendered as is. Attributes can be added for grouping purposes. The source code shown below</p></div><div class="code"><a id="c-add-src"></a><h4><i>e.5.1  &nbsp;-&nbsp; seperating code blocks through attributes</i></h4><pre><code class="clojure">[[{:title &quot;add-n definition&quot; :tag &quot;c-add-1&quot;}]]
(defn add-n [n]
  (fn [x] (+ x n)))

[[{:title &quot;add-4 and add-5 definitions&quot; :tag &quot;c-add-2&quot;}]]
(def add-4 (add-n 4))
(def add-5 (add-n 5))</code></pre></div><div><p>renders the following outputs:</p></div><div class="code"><a id="c-add-1"></a><h4><i>e.5.2  &nbsp;-&nbsp; add-n definition</i></h4><pre><code class="clojure">(defn add-n [n]
  (fn [x] (+ x n)))</code></pre></div><div class="code"><a id="c-add-2"></a><h4><i>e.5.3  &nbsp;-&nbsp; add-4 and add-5 definitions</i></h4><pre><code class="clojure">(def add-4 (add-n 4))
(def add-5 (add-n 5))</code></pre></div><div><span id="fact--facts"></span><h3>5.2 &nbsp;&nbsp; fact/facts</h3></div><div><p>Documentation examples put in <code>fact</code> forms allows the code to be verified for correctness using <code>hara.test</code> as well as <code>midje</code>.</p></div><div class="code"><a id="c-fact-src"></a><h4><i>e.5.4  &nbsp;-&nbsp; Fact Form Source</i></h4><pre><code class="clojure">[[{:tag &quot;fact-form-output&quot; :title &quot;Fact Form Output&quot;}]]
(fact
  (def a (atom 1))
  (deref a) =&gt; 1

  (swap! a inc 1)
  (deref a) =&gt; 2)</code></pre></div><div><p>renders the this output:</p></div><div class="code"><pre><code class="clojure">(def a (atom 1))
(deref a) =&gt; 1

(swap! a inc)
(deref a) =&gt; 2</code></pre></div><div><span id="comment"></span><h3>5.3 &nbsp;&nbsp; comment</h3></div><div><p>Comments are clojure's built-in method of displaying non-running code and so this mechanisim is used in clojure for displaying code that should not be run, but still requires display. Code can still output without interferring with code or tests.</p></div><div class="code"><a id="c-com-src"></a><h4><i>e.5.5  &nbsp;-&nbsp; Switching to a new namespace</i></h4><pre><code class="clojure">[[{:title &quot;Switching to a new namespace&quot; :tag &quot;c-com-1&quot;}]]
(comment
  (in-ns 'hello.world)
  (use 'clojure.string)
  (split &quot;Hello World&quot; #&quot;&#92;s&quot;) ;=&gt; [&quot;Hello&quot; &quot;World&quot;]
  )</code></pre></div><div class="code"><a id="c-com-1"></a><h4><i>e.5.6  &nbsp;-&nbsp; Switching to a new namespace</i></h4><pre><code class="clojure">(in-ns 'hello.world)
(use 'clojure.string)
(split &quot;Hello World&quot; #&quot;&#92;s&quot;) ;=&gt; [&quot;Hello&quot; &quot;World&quot;]</code></pre></div><div><span id="reference"></span><h3>5.4 &nbsp;&nbsp; :reference</h3></div><div><p>Code in the repository can be directly referenced:</p></div><div class="code"><pre><code class="clojure">[[:reference {:refer &quot;lucid.publish.theme/deploy&quot;}]]</code></pre></div><div><p>Gives this output:</p></div><div class="code"><a id="source-1"></a><pre><code class="clojure">(defn deploy
  ([]
   (apply-settings deploy))
  ([settings project]
   (let [target   (template-path settings project)
         inputs   (mapv (juxt (fn [path]
                                    (-&gt; (str (:resource settings) &quot;/&quot; path)
                                        (io/resource)))
                                  identity)
                            (:manifest settings))]
     (doseq [[resource filename] inputs]
       (try
         (let [out (fs/path target filename)]
           (fs/create-directory (fs/parent out))
           (fs/write (.openStream resource)
                     out
                     {:options [:replace-existing]}))
         (catch Exception e
           (print &quot;Cannot Deploy Filename:&quot; filename)
           ;;(throw e)
           ))))))</code></pre></div><div><p>Tests can be referred to by adding <code>:mode :test</code> to </p></div><div class="code"><pre><code class="clojure">[[:reference {:refer &quot;lucid.publish.theme/deploy&quot; :mode :test}]]</code></pre></div><div class="code"><pre><code class="clojure">[[:reference {:refer &quot;lucid.publish.theme/deploy&quot; :mode :test}  :title &quot;Test Output&quot; :tag &quot;source-1&quot;]]</code></pre></div><div><span id="api-0"></span><h3>5.5 &nbsp;&nbsp; :api</h3></div><div><p>An API table can be constructed using:</p></div><div class="code"><pre><code class="clojure">[[:api {:namespace &quot;lucid.publish.theme&quot;}]]</code></pre></div><div><p>The above output will construct a table as shown below:</p></div><div class="api"><span id="entry__lucid_publish_theme__"></span><div><h2>OUTPUT - lucid.publish.theme</h2></div><hr /><div><ul><li><a data-scroll="" href="#entry__lucid_publish_theme__apply_settings">apply-settings</a></li><li><a data-scroll="" href="#entry__lucid_publish_theme__deploy">deploy</a></li><li><a data-scroll="" href="#entry__lucid_publish_theme__deployed_QMARK_">deployed?</a></li><li><a data-scroll="" href="#entry__lucid_publish_theme__load_settings">load-settings</a></li><li><a data-scroll="" href="#entry__lucid_publish_theme__load_var">load-var</a></li><li><a data-scroll="" href="#entry__lucid_publish_theme__refresh_QMARK_">refresh?</a></li><li><a data-scroll="" href="#entry__lucid_publish_theme__template_path">template-path</a></li></ul><hr style="margin-bottom: 0" /><div><div class="entry"><span id="entry__lucid_publish_theme__apply_settings"></span><div class="entry-description"><h4><b>apply-settings&nbsp<a data-scroll="" href="#entry__lucid_publish_theme__">^</a></b></h4><p><i>applies function to the settings in the current `project.clj`</i></p></div><div class="entry-option"><h6><a href="https://www.github.com/zcaudate/lucidity/blob/master/src/lucid/publish/theme.clj#L46-L51" target="_blank">v&nbsp;1.2</a></h6><div><input class="source-toggle" id="entry__pre_lucid_publish_theme__apply_settings" type="checkbox" /><label class="source-toggle" for="entry__pre_lucid_publish_theme__apply_settings"></label><pre class="source"><code class="clojure">(defn apply-settings
  [f & args]
  (let [project (project/project)
        theme   (-> project :publish :theme)
        settings (load-settings theme project)]
    (apply f (concat args [settings project]))))</code></pre></div></div><pre><h6><i><a href="https://www.github.com/zcaudate/lucidity/blob/master/test/lucid/publish/theme_test.clj#L20-L20" target="_blank">link</a></i></h6><code class="clojure"></code></pre></div><div class="entry"><span id="entry__lucid_publish_theme__deploy"></span><div class="entry-description"><h4><b>deploy&nbsp<a data-scroll="" href="#entry__lucid_publish_theme__">^</a></b></h4><p><i>deploys theme into template directory</i></p></div><div class="entry-option"><h6><a href="https://www.github.com/zcaudate/lucidity/blob/master/src/lucid/publish/theme.clj#L76-L97" target="_blank">v&nbsp;1.2</a></h6><div><input class="source-toggle" id="entry__pre_lucid_publish_theme__deploy" type="checkbox" /><label class="source-toggle" for="entry__pre_lucid_publish_theme__deploy"></label><pre class="source"><code class="clojure">(defn deploy
  ([]
   (apply-settings deploy))
  ([settings project]
   (let [target   (template-path settings project)
         inputs   (mapv (juxt (fn [path]
                                    (-> (str (:resource settings) "/" path)
                                        (io/resource)))
                                  identity)
                            (:manifest settings))]
     (doseq [[resource filename] inputs]
       (try
         (let [out (fs/path target filename)]
           (fs/create-directory (fs/parent out))
           (fs/write (.openStream resource)
                     out
                     {:options [:replace-existing]}))
         (catch Exception e
           (print "Cannot Deploy Filename:" filename)
           ;;(throw e)
           ))))))</code></pre></div></div><pre><h6><i><a href="https://www.github.com/zcaudate/lucidity/blob/master/test/lucid/publish/theme_test.clj#L39-L44" target="_blank">link</a></i></h6><code class="clojure">;; deploys the stark theme to the template/stark directory
;; overwriting any content in the directory
(deploy (load-settings "stark" (project/project))
        (project/project))</code></pre></div><div class="entry"><span id="entry__lucid_publish_theme__deployed_QMARK_"></span><div class="entry-description"><h4><b>deployed?&nbsp<a data-scroll="" href="#entry__lucid_publish_theme__">^</a></b></h4><p><i>checks if a theme has been deployed</i></p></div><div class="entry-option"><h6><a href="https://www.github.com/zcaudate/lucidity/blob/master/src/lucid/publish/theme.clj#L68-L74" target="_blank">v&nbsp;1.2</a></h6><div><input class="source-toggle" id="entry__pre_lucid_publish_theme__deployed_QMARK_" type="checkbox" /><label class="source-toggle" for="entry__pre_lucid_publish_theme__deployed_QMARK_"></label><pre class="source"><code class="clojure">(defn deployed?
  ([]
   (apply-settings deployed?))
  ([settings project]
   (let [target  (template-path settings project)]
     (fs/exists? target))))</code></pre></div></div><pre><h6><i><a href="https://www.github.com/zcaudate/lucidity/blob/master/test/lucid/publish/theme_test.clj#L32-L36" target="_blank">link</a></i></h6><code class="clojure">(deployed? (load-settings "stark" (project/project))
           (project/project))
=> true</code></pre></div><div class="entry"><span id="entry__lucid_publish_theme__load_settings"></span><div class="entry-description"><h4><b>load-settings&nbsp<a data-scroll="" href="#entry__lucid_publish_theme__">^</a></b></h4><p><i>load theme settings</i></p></div><div class="entry-option"><h6><a href="https://www.github.com/zcaudate/lucidity/blob/master/src/lucid/publish/theme.clj#L17-L44" target="_blank">v&nbsp;1.2</a></h6><div><input class="source-toggle" id="entry__pre_lucid_publish_theme__load_settings" type="checkbox" /><label class="source-toggle" for="entry__pre_lucid_publish_theme__load_settings"></label><pre class="source"><code class="clojure">(defn load-settings
  ([] (load-settings nil))
  ([theme] (load-settings theme (project/project)))
  ([theme project]
   (let [current (java.util.Date.)
         theme (or theme (-> project :publish :theme) *default*)
         opts  (-> project
                   :publish
                   :template
                   (assoc :theme theme
                          :date (-> (java.text.SimpleDateFormat. "dd MMMM yyyy")
                                    (.format current))
                          :time (-> (java.text.SimpleDateFormat. "HH mm")
                                    (.format current))))
         ns (cond (string? theme)
                  (symbol (str "lucid.publish.theme." theme))

                  (symbol? theme) theme

                  :else (throw (Exception. (format "Cannot load theme: %s" theme))))
         settings (do (require ns)
                      (load-var ns "settings"))]
     (->> (:render settings)
          (reduce-kv (fn [out k v]
                       (assoc-in out [:defaults k] [:fn (load-var ns v)]))
                     settings)
          (merge opts)))))</code></pre></div></div><pre><h6><i><a href="https://www.github.com/zcaudate/lucidity/blob/master/test/lucid/publish/theme_test.clj#L12-L17" target="_blank">link</a></i></h6><code class="clojure">(keys (load-settings "stark" (project/project)))
=> (contains [:email :date :copy :tracking-enabled
              :site :time :manifest :icon :defaults
              :theme :author :render :tracking :resource :engine]
             :in-any-order)</code></pre></div><div class="entry"><span id="entry__lucid_publish_theme__load_var"></span><div class="entry-description"><h4><b>load-var&nbsp<a data-scroll="" href="#entry__lucid_publish_theme__">^</a></b></h4><p><i>loads a namespaced var</i></p></div><div class="entry-option"><h6><a href="https://www.github.com/zcaudate/lucidity/blob/master/src/lucid/publish/theme.clj#L11-L15" target="_blank">v&nbsp;1.2</a></h6><div><input class="source-toggle" id="entry__pre_lucid_publish_theme__load_var" type="checkbox" /><label class="source-toggle" for="entry__pre_lucid_publish_theme__load_var"></label><pre class="source"><code class="clojure">(defn load-var
  [ns var]
  (-> (symbol (str ns "/" var))
      resolve
      deref))</code></pre></div></div><pre><h6><i><a href="https://www.github.com/zcaudate/lucidity/blob/master/test/lucid/publish/theme_test.clj#L7-L9" target="_blank">link</a></i></h6><code class="clojure">(load-var "clojure.core" "apply")
=> fn?</code></pre></div><div class="entry"><span id="entry__lucid_publish_theme__refresh_QMARK_"></span><div class="entry-description"><h4><b>refresh?&nbsp<a data-scroll="" href="#entry__lucid_publish_theme__">^</a></b></h4><p><i>checks the `refresh` setting for the project template</i></p></div><div class="entry-option"><h6><a href="https://www.github.com/zcaudate/lucidity/blob/master/src/lucid/publish/theme.clj#L61-L66" target="_blank">v&nbsp;1.2</a></h6><div><input class="source-toggle" id="entry__pre_lucid_publish_theme__refresh_QMARK_" type="checkbox" /><label class="source-toggle" for="entry__pre_lucid_publish_theme__refresh_QMARK_"></label><pre class="source"><code class="clojure">(defn refresh?
  ([] 
   (apply-settings refresh?))
  ([settings project]
   (boolean (-> project :publish :template :refresh))))</code></pre></div></div><pre><h6><i><a href="https://www.github.com/zcaudate/lucidity/blob/master/test/lucid/publish/theme_test.clj#L26-L29" target="_blank">link</a></i></h6><code class="clojure">(refresh?) ;; by default, it is false
=> false</code></pre></div><div class="entry"><span id="entry__lucid_publish_theme__template_path"></span><div class="entry-description"><h4><b>template-path&nbsp<a data-scroll="" href="#entry__lucid_publish_theme__">^</a></b></h4><p><i>creates a template path, by default it is `./template`</i></p></div><div class="entry-option"><h6><a href="https://www.github.com/zcaudate/lucidity/blob/master/src/lucid/publish/theme.clj#L53-L59" target="_blank">v&nbsp;1.2</a></h6><div><input class="source-toggle" id="entry__pre_lucid_publish_theme__template_path" type="checkbox" /><label class="source-toggle" for="entry__pre_lucid_publish_theme__template_path"></label><pre class="source"><code class="clojure">(defn template-path
  ([] (apply-settings template-path))
  ([settings project]
   (let [template-dir (or (-> project :publish :template :path)
                          *path*)]
     (fs/path (:root project) template-dir (:theme settings)))))</code></pre></div></div><pre><h6><i><a href="https://www.github.com/zcaudate/lucidity/blob/master/test/lucid/publish/theme_test.clj#L23-L23" target="_blank">link</a></i></h6><code class="clojure"></code></pre></div></div></div></div><div><p>The table can be customised with <code>:title</code>, <code>:only</code> and <code>:exclude</code> keys. The following generates a table with only an entry for deploy:</p></div><div class="code"><pre><code class="clojure">[[:api {:namespace &quot;lucid.publish.theme&quot;
        :title &quot;&quot;
        :only [&quot;deploy&quot;]}]]</code></pre></div><div><p>This example generates a table with </p></div><div class="code"><pre><code class="clojure">[[:api {:namespace &quot;lucid.publish.theme&quot;
        :title &quot;&quot;
        :exclude [&quot;template-path&quot; &quot;apply-settings&quot;]}]]</code></pre></div><div><p>To make links to a <code>:chapter</code>, use <code>:link</code> to create navigation links for the api</p></div><div class="code"><pre><code class="clojure">[[:chapter {:namespace &quot;Theme API&quot;
            :link &quot;lucid.publish.theme&quot;
            :exclude [&quot;template-path&quot; &quot;apply-settings&quot;]}]]
  
[[:api {:namespace &quot;lucid.publish.theme&quot;
        :title &quot;&quot;
        :exclude [&quot;template-path&quot; &quot;apply-settings&quot;]}]]</code></pre></div><div><span id="other-languages"></span><h3>5.6 &nbsp;&nbsp; other languages</h3></div><div><p>The most generic way of displaying code is with the <code>:code</code> tag. It is useful when code in other languages are required to be in the documentation.</p></div><div><span id="python"></span><h3><i>5.6.1 &nbsp;&nbsp; python</i></h3></div><div><p>The source and outputs are listed below:</p></div><div class="code"><a id="c-py-src"></a><h4><i>e.5.7  &nbsp;-&nbsp; Python for Loop Source</i></h4><pre><code class="clojure">[[:code {:lang &quot;python&quot; :title &quot;Python for Loop&quot; :tag &quot;c-py-1&quot;}
&quot;
myList = [1,2,3,4]
for index in range(len(myList)):
  myList[index] += 1
print myList&quot;]]</code></pre></div><div class="code"><a id="c-py-1"></a><h4><i>e.5.8  &nbsp;-&nbsp; Python for Loop</i></h4><pre><code class="python">myList = [1,2,3,4]
for index in range(len(myList)):
  myList[index] += 1
print myList</code></pre></div><div><span id="ruby"></span><h3><i>5.6.2 &nbsp;&nbsp; ruby</i></h3></div><div><p>The source and outputs are listed below:</p></div><div class="code"><a id="c-rb-src"></a><h4><i>e.5.9  &nbsp;-&nbsp; Ruby for Loop Source</i></h4><pre><code class="clojure">[[:code {:lang &quot;ruby&quot; :title &quot;Ruby for Loop&quot; :tag &quot;c-rb-2&quot;}
&quot;
array.each_with_index do |element,index|
  element.do_stuff(index)
end&quot;]]</code></pre></div><div class="code"><a id="c-rb-2"></a><h4><i>e.5.10  &nbsp;-&nbsp; Ruby for Loop</i></h4><pre><code class="ruby">array.each_with_index do |element,index|
    element.do_stuff(index)
end</code></pre></div><div><span id="project-level"></span><h2><b>6 &nbsp;&nbsp; Project Level</b></h2></div><div><span id="setup"></span><h3>6.1 &nbsp;&nbsp; Setup</h3></div><div><p><code>lucid.publish</code> can also be used to generate an entire site based on clojure code input. The default template can be changed according to need. <code>lucid.publish</code> can generates a <code>.html</code> output based on a <code>.clj</code> file. The <code>:publish</code> key in <code>defproject</code> specifies which files to use as entry points to use for html generation. A sample can be seen below:</p></div><div class="code"><pre><code class="clojure">(defproject ...
  ...
  :publish {:site   &quot;sample&quot;
            :theme  &quot;bolton&quot; ;; stark is the default
            :output &quot;docs&quot;
            :files {&quot;sample-document&quot;
                    {:input &quot;test/documentation/sample_document.clj&quot;
                     :title &quot;a sample document&quot;
                     :subtitle &quot;generating a document from code&quot;}}}
  ...)</code></pre></div><div><p>This is the simplest example - more options can be added as needed. See examples for <a href='https://github.com/zcaudate/hara/blob/master/project.clj#L23-L31'>hara</a> and <a href='https://github.com/zcaudate/lucidity/blob/master/project.clj#L46-L55'>lucidity</a></p></div><div><span id="templates-and-themes"></span><h3>6.2 &nbsp;&nbsp; Templates and Themes</h3></div><div><p>Templates can be set up to customise the site to look however fancy it needs to be.</p></div><div class="code"><h4><i>e.6.1  &nbsp;-&nbsp; Template</i></h4><pre><code class="html">&lt;html&gt;
  ...
  &lt;head&gt;
    &lt;title&gt;&lt;@=title&gt;&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;@=navigation&gt;
    &lt;@=contents&gt;
  &lt;/body&gt;

&lt;/html&gt;</code></pre></div><div><p>The <code>&lt;@=KEY&gt;</code> values can be found with <code>lucid.publish.theme/load-settings</code>:</p></div><div class="code"><pre><code class="clojure">(lucid.publish/load-settings)
;; {:email &quot;z@caudate.me&quot;,
;;  :date &quot;06 October 2016&quot;,
;;  :copy [&quot;assets&quot;],
;;  :tracking-enabled &quot;true&quot;,
;;  :site &quot;lucid&quot;,
;;  :time &quot;08 12&quot;,
;;  :manifest [... files ...],
;;  :icon &quot;favicon&quot;,
;;  :defaults {:site &quot;stark&quot;,
;;             :icon &quot;favicon&quot;,
;;             :tracking-enabled &quot;false&quot;,
;;             :template &quot;article.html&quot;,
;;             :theme-base &quot;theme-base-0b&quot;,
;;             :logo-white &quot;img/logo-white.png&quot;,
;;             :article [...],
;;             :outline [...],
;;             :top-level [...]},
;;  :theme &quot;stark&quot;,
;;  :author &quot;Chris Zheng&quot;,
;;  :render {:article &quot;render-article&quot;,
;;           :outline &quot;render-outline&quot;,
;;           :top-level &quot;render-top-level&quot;},
;;  :tracking &quot;UA-31320512-2&quot;,
;;  :resource &quot;theme/stark&quot;,
;;  :engine &quot;winterfell&quot;}</code></pre></div><div><p>And more values can be added to the <code>&#91;:publish :template&#93;</code> or <code>&#91;:publish :template :defaults&#93;</code> entry in <code>project.clj</code>. Please reference the <a href='https://github.com/zcaudate/lucidity/blob/master/resources/theme/stark'>stark</a> and <a href='https://github.com/zcaudate/lucidity/blob/master/resources/theme/bolton'>bolton</a> themes to see how to change a template to suit your needs.</p></div>
        </div>
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>

  <script>
  if (true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-31320512-2', 'caudate.me');
    ga('send', 'pageview');
  }
  </script>
  
  <script type="text/javascript">
    smoothScroll.init();
    gumshoe.init({});
  
    hljs.registerLanguage("clojure",function(e){var t={"builtin-name":"def defonce cond apply if-not if-let if not not= = < > <= >= == + / * - rem quot neg? pos? delay? symbol? keyword? true? false? integer? empty? coll? list? set? ifn? fn? associative? sequential? sorted? counted? reversible? number? decimal? class? distinct? isa? float? rational? reduced? ratio? odd? even? char? seq? vector? string? map? nil? contains? zero? instance? not-every? not-any? libspec? -> ->> .. . inc compare do dotimes mapcat take remove take-while drop letfn drop-last take-last drop-while while intern condp case reduced cycle split-at split-with repeat replicate iterate range merge zipmap declare line-seq sort comparator sort-by dorun doall nthnext nthrest partition eval doseq await await-for let agent atom send send-off release-pending-sends add-watch mapv filterv remove-watch agent-error restart-agent set-error-handler error-handler set-error-mode! error-mode shutdown-agents quote var fn loop recur throw try monitor-enter monitor-exit defmacro defn defn- macroexpand macroexpand-1 for dosync and or when when-not when-let comp juxt partial sequence memoize constantly complement identity assert peek pop doto proxy defstruct first rest cons defprotocol cast coll deftype defrecord last butlast sigs reify second ffirst fnext nfirst nnext defmulti defmethod meta with-meta ns in-ns create-ns import refer keys select-keys vals key val rseq name namespace promise into transient persistent! conj! assoc! dissoc! pop! disj! use class type num float double short byte boolean bigint biginteger bigdec print-method print-dup throw-if printf format load compile get-in update-in pr pr-on newline flush read slurp read-line subvec with-open memfn time re-find re-groups rand-int rand mod locking assert-valid-fdecl alias resolve ref deref refset swap! reset! set-validator! compare-and-set! alter-meta! reset-meta! commute get-validator alter ref-set ref-history-count ref-min-history ref-max-history ensure sync io! new next conj set! to-array future future-call into-array aset gen-class reduce map filter find empty hash-map hash-set sorted-map sorted-map-by sorted-set sorted-set-by vec vector seq flatten reverse assoc dissoc list disj get union difference intersection extend extend-type extend-protocol int nth delay count concat chunk chunk-buffer chunk-append chunk-first chunk-rest max min dec unchecked-inc-int unchecked-inc unchecked-dec-inc unchecked-dec unchecked-negate unchecked-add-int unchecked-add unchecked-subtract-int unchecked-subtract chunk-next chunk-cons chunked-seq? prn vary-meta lazy-seq spread list* str find-keyword keyword symbol gensym force rationalize"},r="a-zA-Z_\\-!.?+*=<>&#'",n="["+r+"]["+r+"0-9/;:]*",a="[-+]?\\d+(\\.\\d+)?",o={b:n,r:0},s={cN:"number",b:a,r:0},i=e.inherit(e.QSM,{i:null}),c=e.C(";","$",{r:0}),d={cN:"literal",b:/\b(true|false|nil)\b/},l={b:"[\\[\\{]",e:"[\\]\\}]"},m={cN:"comment",b:"\\^"+n},p=e.C("\\^\\{","\\}"),u={cN:"symbol",b:"[:]{1,2}"+n},f={b:"\\(",e:"\\)"},h={eW:!0,r:0},y={k:t,l:n,cN:"name",b:n,starts:h},b=[f,i,m,p,c,u,l,s,d,o];return f.c=[e.C("comment",""),y,h],h.c=b,l.c=b,{aliases:["clj"],i:/\S/,c:[f,i,m,p,c,u,l,s,d]}});
    hljs.initHighlightingOnLoad();
  </script>
</html>
